{% extends 'base.html' %}

{% block content %}
    <section>
        <div class="container"><div class="cart-heading" style="text-align: center; font-size: 28px; color:#490b3d">Cart</div>
        <div class="center">Total: ${{total}}</div>
            <div>
            {% if shops %}
                {% for key, shop in shops.items %}
                    <div class="brand-card"><div class="card-space"></div>
                        <div class="row">
                            <div class="col">
                                <div>
                                    <div class="col">
                                        <div class="cart-items">
                                            {%if shop.products %}
                                                {% for key, product in shop.products.items %}
                                                    <div class="row">
                                                        <div class="col"><a href="{{ product.link }}"><img src="{{ product.img }}" width="150" height="150"></a></div>
                                                        <div class="col">
                                                            <div class="row">
                                                                <p style="color: rgb(73,11,61);">{{ product.p_name }}</p>
                                                            </div>
                                                            <div class="row">
                                                                <div class="price center" style="color:#490b3d">
                                                                    <small>${{ product.value }}</small>
                                                                    <sub>${{ product.price }} each</sub><br>
                                                                    <label for="quantity">Quantity:</label>
                                                                    <input type="number" id="quantity" name="quantity" min="0" value="{{product.qty}}"> 
                                                                    <button class="btn btn-primary" onclick="updateCart( 'PLCART-:-{{product.s_FK.s_name}}-:-{{product.p_name}}', document.querySelector('#quantity').value)" type="button" style="background: #bd1e51; border: 2px solid #f44336;">Update Cart</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                {%endfor%}
                                            {%endif%}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="row">
                                    <div class="col">
                                        <div class="row">
                                            <div class="col"><p class="brand-name" style="text-align:center; font-size:23px;color:#490b3d;">{{shop.name}}</p></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <p class="brand-name" style="text-align:center; font-size:16px;color:#490b3d;">{{shop.distance}}</p>
                                    </div>
                                    <div class="row">
                                        <div class="row">
                                            <div class="center"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="center"></div>
                                </div>
                                <div class="row">
                                    <div class="row">
                                        <div class="center"></div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <p class="brand-name" style="text-align:center; font-size:20px; text-align:right;color:#490b3d;">Total: ${{shop.total}}</p>
                                    </div>
                                    <div class="col">
                                        <div>
                                            <div class="purchase" style="text-align:center;">
                                                <a href="{{shop.link}}" class="btn btn-primary" style="background-color:#bd1e51;">Purchase</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="card-space">
                            </div>
                        </div>
                    </div>
                {%endfor%}
            {%endif%}
        </div>
        <div class="center"></div>
    </div>  
</section> 
{% endblock %}